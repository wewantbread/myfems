:root {
  --cycle-duration: 20s;

  --palette-light-bg-gradient: radial-gradient(
      circle at 50% 44%,
      hsl(0 0% 100%) 0%,
      hsl(0 0% 96%) 38%,
      hsl(0 0% 90%) 100%
    ),
    linear-gradient(180deg, hsl(0 0% 98%) 0%, hsl(0 0% 92%) 100%);
  --palette-light-focus-glow: radial-gradient(
    circle at 50% 48%,
    hsla(0 0% 100% / 0.6) 0%,
    transparent 55%
  );
  --palette-light-toggle-bg: hsla(0 0% 100% / 0.55);
  --palette-light-toggle-border: hsla(0 0% 18% / 0.18);
  --palette-light-toggle-icon: hsl(0 0% 18%);
  --palette-light-toggle-icon-night: hsl(0 0% 32%);
  --palette-light-text-color: hsl(0 0% 14%);
  --palette-light-stage-haze: radial-gradient(
    circle at 50% 45%,
    hsla(0 0% 92% / 0.72) 0%,
    hsla(0 0% 72% / 0.18) 55%,
    transparent 78%
  );
  --palette-light-panel-bg: hsla(0 0% 100% / 0.72);
  --palette-light-panel-color: hsla(0 0% 16% / 0.9);
  --palette-light-panel-shadow: 0 1.6rem 3.5rem hsla(0 0% 12% / 0.18);
  --palette-light-shop-tag-bg: hsla(0 0% 100% / 0.58);
  --palette-light-shop-tag-color: hsla(0 0% 18% / 0.92);
  --palette-light-shop-tag-underline: linear-gradient(
    90deg,
    hsla(0 0% 42% / 0.3),
    hsla(0 0% 42% / 0.9),
    hsla(0 0% 42% / 0.3)
  );
  --palette-light-shop-tag-glow: hsla(0 0% 54% / 0.35);
  --palette-light-image-shadow: hsla(0 0% 0% / 0.24);
  --palette-light-image-lowlight: hsla(0 0% 0% / 0.22);
  --palette-light-leaf-color: 140 32% 52%;
  --palette-light-outline-color: 0 0% 72%;
  --palette-light-chakra-third-eye: 212 68% 56%;
  --palette-light-accent-focus: hsla(0 0% 24% / 0.48);
  --palette-light-accent-focus-soft: hsla(0 0% 24% / 0.16);

  --palette-night-bg-gradient: #000;
  --palette-night-focus-glow: radial-gradient(
    circle at 50% 46%,
    hsla(0 0% 100% / 0.18) 0%,
    transparent 70%
  );
  --palette-night-toggle-bg: hsla(0 0% 16% / 0.7);
  --palette-night-toggle-border: hsla(0 0% 70% / 0.25);
  --palette-night-toggle-icon: hsl(0 0% 82%);
  --palette-night-toggle-icon-night: hsl(0 0% 94%);
  --palette-night-text-color: hsl(0 0% 92%);
  --palette-night-stage-haze: radial-gradient(
    circle at 50% 46%,
    hsla(0 0% 68% / 0.24) 0%,
    hsla(0 0% 36% / 0.12) 45%,
    transparent 78%
  );
  --palette-night-panel-bg: hsla(0 0% 10% / 0.7);
  --palette-night-panel-color: hsla(0 0% 86% / 0.94);
  --palette-night-panel-shadow: 0 1.5rem 3.2rem hsla(0 0% 0% / 0.25);
  --palette-night-shop-tag-bg: hsla(0 0% 16% / 0.6);
  --palette-night-shop-tag-color: hsla(0 0% 92% / 0.92);
  --palette-night-shop-tag-underline: linear-gradient(
    90deg,
    hsla(0 0% 68% / 0.2),
    hsla(0 0% 68% / 0.6),
    hsla(0 0% 68% / 0.2)
  );
  --palette-night-shop-tag-glow: hsla(0 0% 72% / 0.28);
  --palette-night-image-shadow: hsla(0 0% 100% / 0.36);
  --palette-night-image-lowlight: hsla(0 0% 0% / 0.58);
  --palette-night-leaf-color: 150 32% 62%;
  --palette-night-outline-color: 0 0% 82%;
  --palette-night-chakra-third-eye: 212 68% 64%;
  --palette-night-accent-focus: hsla(0 0% 72% / 0.45);
  --palette-night-accent-focus-soft: hsla(0 0% 72% / 0.18);
}


  --bg-gradient: var(--palette-light-bg-gradient);
  --focus-glow: var(--palette-light-focus-glow);
  --toggle-bg: var(--palette-light-toggle-bg);
  --toggle-border: var(--palette-light-toggle-border);
  --toggle-icon: var(--palette-light-toggle-icon);
  --toggle-icon-night: var(--palette-light-toggle-icon-night);
  --text-color: var(--palette-light-text-color);
  --stage-haze: var(--palette-light-stage-haze);
  --panel-bg: var(--palette-light-panel-bg);
  --panel-color: var(--palette-light-panel-color);
  --panel-shadow: var(--palette-light-panel-shadow);
  --shop-tag-bg: var(--palette-light-shop-tag-bg);
  --shop-tag-color: var(--palette-light-shop-tag-color);
  --shop-tag-underline: var(--palette-light-shop-tag-underline);
  --shop-tag-glow: var(--palette-light-shop-tag-glow);
  --image-shadow: var(--palette-light-image-shadow);
  --image-lowlight: var(--palette-light-image-lowlight);
  --leaf-color: var(--palette-light-leaf-color);
  --outline-color: var(--palette-light-outline-color);
  --chakra-third-eye: var(--palette-light-chakra-third-eye);
  --accent-focus: var(--palette-light-accent-focus);
  --accent-focus-soft: var(--palette-light-accent-focus-soft);
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  position: relative;
  min-height: 100vh;
  color-scheme: light;
  color: var(--text-color);
  background: var(--bg-gradient);
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: "Inter", "Helvetica Neue", system-ui, -apple-system, sans-serif;
  overflow: hidden;
  transition: background 0.6s ease, color 90s ease;
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  background: var(--focus-glow);
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: 0.85;
  transition: opacity 0.6s ease, background 0.6s ease;
}

body[data-theme="night"] {
  color-scheme: dark;
  --bg-gradient: var(--palette-night-bg-gradient, var(--palette-light-bg-gradient));
  --focus-glow: var(--palette-night-focus-glow, var(--palette-light-focus-glow));
  --toggle-bg: var(--palette-night-toggle-bg, var(--palette-light-toggle-bg));
  --toggle-border: var(--palette-night-toggle-border, var(--palette-light-toggle-border));
  --toggle-icon: var(--palette-night-toggle-icon, var(--palette-light-toggle-icon));
  --toggle-icon-night: var(--palette-night-toggle-icon-night, var(--palette-light-toggle-icon-night));
  --text-color: var(--palette-night-text-color, var(--palette-light-text-color));
  --stage-haze: var(--palette-night-stage-haze, var(--palette-light-stage-haze));
  --panel-bg: var(--palette-night-panel-bg, var(--palette-light-panel-bg));
  --panel-color: var(--palette-night-panel-color, var(--palette-light-panel-color));
  --panel-shadow: var(--palette-night-panel-shadow, var(--palette-light-panel-shadow));
  --shop-tag-bg: var(--palette-night-shop-tag-bg, var(--palette-light-shop-tag-bg));
  --shop-tag-color: var(--palette-night-shop-tag-color, var(--palette-light-shop-tag-color));
  --shop-tag-underline: var(--palette-night-shop-tag-underline, var(--palette-light-shop-tag-underline));
  --shop-tag-glow: var(--palette-night-shop-tag-glow, var(--palette-light-shop-tag-glow));
  --image-shadow: var(--palette-night-image-shadow, var(--palette-light-image-shadow));
  --image-lowlight: var(--palette-night-image-lowlight, var(--palette-light-image-lowlight));
  --leaf-color: var(--palette-night-leaf-color, var(--palette-light-leaf-color));
  --outline-color: var(--palette-night-outline-color, var(--palette-light-outline-color));
  --chakra-third-eye: var(--palette-night-chakra-third-eye, var(--palette-light-chakra-third-eye));
  --accent-focus: var(--palette-night-accent-focus, var(--palette-light-accent-focus));
  --accent-focus-soft: var(--palette-night-accent-focus-soft, var(--palette-light-accent-focus-soft));
}

body[data-theme="night"]::before {
  opacity: 0.5;
  mix-blend-mode: screen;
}

.theme-toggle {
  position: fixed;
  top: 2.4rem;
  right: 2.4rem;
  width: 3rem;
  height: 3rem;
  border: 1px solid var(--toggle-border);
  border-radius: 999px;
  background: var(--toggle-bg);
  backdrop-filter: blur(8px);
  display: grid;
  place-items: center;
  cursor: pointer;
  transition: border-color 0.3s ease, background 0.3s ease, transform 0.3s ease;
  z-index: 3;
}

.theme-toggle:hover,
.theme-toggle:focus-visible {
  transform: scale(1.05);
  border-color: var(--accent-focus);
  outline: none;
  box-shadow: 0 0 0 0.25rem var(--accent-focus-soft);
}

.theme-toggle__icon {
  width: 1.6rem;
  height: 1.6rem;
  border-radius: 50%;
  position: absolute;
  transition: opacity 0.4s ease, transform 0.4s ease;
}

.theme-toggle__icon--sun {
  background: radial-gradient(circle at center, var(--toggle-icon) 0%, hsl(46 98% 70%) 45%, hsla(46 100% 80% / 0.4) 100%);
  box-shadow: 0 0 0.5rem hsla(46 98% 60% / 0.5), 0 0 1.2rem hsla(46 98% 55% / 0.35);
  opacity: 1;
}

.theme-toggle__icon--sun::after {
  content: "";
  position: absolute;
  inset: -0.45rem;
  border-radius: 50%;
  background: radial-gradient(circle at center, hsla(46 96% 65% / 0.35) 0%, transparent 70%);
  filter: blur(1px);
  opacity: 0.75;
}

.theme-toggle__icon--moon {
  background: radial-gradient(circle at 65% 35%, var(--toggle-icon-night) 0%, hsl(230 40% 40%) 85%);
  box-shadow: inset -0.25rem -0.2rem 0.55rem hsla(210 60% 90% / 0.28);
  transform: translateY(0.5rem) scale(0.6);
  opacity: 0;
}

.theme-toggle__icon--moon::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 50%;
  box-shadow: -0.6rem 0 0 0 hsla(230 72% 20% / 0.65);
  transform: translateX(0.25rem);
}

body[data-theme="night"] .theme-toggle__icon--sun {
  opacity: 0;
  transform: translateY(-0.5rem) scale(0.6);
}

body[data-theme="night"] .theme-toggle__icon--moon {
  opacity: 1;
  transform: translateY(0) scale(1);
}

.stage {
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 5vmin;
  position: relative;
  isolation: isolate;
}

.stage::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: clamp(18rem, 52vmin, 38rem);
  aspect-ratio: 1;
  border-radius: 50%;
  background: var(--stage-haze);
  filter: blur(42px);
  opacity: 0.72;
  mix-blend-mode: screen;
  z-index: 0;
  transform: translate(-50%, -50%);
  transition: opacity 0.6s ease, background 0.6s ease, transform 0.6s ease;
}

body[data-theme="night"] .stage::before {
  opacity: 0.76;
  mix-blend-mode: screen;
  transform: translate(-50%, -50%);
}

.figure-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: clamp(1rem, 1.8vmin, 1.5rem);
}

.figure-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: clamp(1rem, 1.8vmin, 1.5rem);
}

.figure {
  position: relative;
  width: min(32vmin, 240px);
  max-width: 240px;
  aspect-ratio: 3 / 4;
  display: grid;
  place-items: center;
  cursor: pointer;
  touch-action: manipulation;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  --figure-mask: url("chakragirl.png");
  --figure-raise: -6%;
  transform: translateY(var(--figure-raise));
  transition: transform 2.4s ease;
}

.figure.is-transitioning {
  transform: translateY(var(--figure-raise)) scale(0.985);
}

.figure__image {
  position: relative;
  z-index: 2;
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: block;
  transition: opacity 2.4s ease-in-out, transform 2.4s ease-in-out;
  filter: drop-shadow(0 0 1.5rem var(--image-lowlight))
    drop-shadow(0 0 3.5rem var(--image-shadow));
}

.figure.is-transitioning .figure__image {
  opacity: 0.15;
  transform: scale(0.97);
}

body[data-theme="night"] .figure__image {
  filter: drop-shadow(0 0 1.4rem var(--image-lowlight))
    drop-shadow(0 0 4.2rem var(--image-shadow));
}

.shop-tag {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.28rem 0.82rem 0.74rem;
  border-radius: 999px;
  background: var(--shop-tag-bg);
  backdrop-filter: blur(8px);
  text-transform: uppercase;
  letter-spacing: 0.32em;
  font-size: clamp(0.68rem, 1.05vmin, 0.78rem);
  color: var(--shop-tag-color);
  isolation: isolate;
}

.shop-tag__label {
  position: relative;
  z-index: 1;
}

.shop-tag::after {
  content: "";
  position: absolute;
  left: 50%;
  bottom: 0.28rem;
  width: 118%;
  height: 2px;
  transform: translateX(-50%);
  background: var(--shop-tag-underline);
  border-radius: 999px;
  box-shadow: 0 0 0.55rem var(--shop-tag-glow);
}

.time-panel {
  position: fixed;
  right: clamp(1.2rem, 3.8vw, 2rem);
  bottom: clamp(1rem, 3.6vw, 2rem);
  padding: 0.56rem 0.88rem;
  min-width: 15ch;
  border-radius: 0.78rem;
  font-size: clamp(0.68rem, 1.2vmin, 0.82rem);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--panel-color);
  background: var(--panel-bg);
  backdrop-filter: blur(10px);
  box-shadow: var(--panel-shadow);
  overflow: hidden;
  white-space: nowrap;
}

.figure__outline {
  position: absolute;
  inset: -11%;
  pointer-events: none;
  z-index: 3;
  background: radial-gradient(
      closest-side,
      hsla(var(--outline-color) / 0) 56%,
      hsla(var(--outline-color) / 0.86) 74%,
      hsla(var(--outline-color) / 0) 96%
    );
  -webkit-mask: var(--figure-mask) center / contain no-repeat;
  mask: var(--figure-mask) center / contain no-repeat;
  filter:
    blur(12px)
    drop-shadow(0 0 1.8rem hsla(var(--outline-color) / 0.42))
    drop-shadow(0 0 3.8rem hsla(var(--outline-color) / 0.22));
  mix-blend-mode: screen;
  opacity: 0.78;
  visibility: visible;
  transition: opacity 0.8s ease, visibility 0.8s ease, filter 0.8s ease;
  animation: outline-breath 6.6s ease-in-out infinite;
}

.chakra {
  position: absolute;
  inset: auto;
  width: clamp(14px, 2.7vmin, 22px);
  height: clamp(14px, 2.7vmin, 22px);
  border-radius: 999px;
  pointer-events: none;
  z-index: 4;
  background: radial-gradient(circle at center, hsl(var(--chakra-third-eye) / 0.95) 0%, hsl(var(--chakra-third-eye) / 0.78) 55%, hsla(var(--chakra-third-eye) / 0) 100%);
  box-shadow: 0 0 1.2rem hsla(var(--chakra-third-eye) / 0.68), 0 0 2.8rem hsla(var(--chakra-third-eye) / 0.24);
}

.chakra::after {
  content: "";
  position: absolute;
  inset: -40%;
  border-radius: inherit;
  background: radial-gradient(circle at center, hsla(var(--chakra-third-eye) / 0.5) 0%, hsla(var(--chakra-third-eye) / 0.08) 55%, transparent 100%);
  filter: blur(4px);
  opacity: 0.75;
}

.chakra--third-eye {
  top: 24%;
  left: 50%;
  transform: translate(-50%, -50%);
  animation: chakra-breath 4.8s ease-in-out infinite;
}

.figure .aura--leaves,
.figure .chakra,
.figure__outline {
  transition: opacity 0.6s ease, visibility 0.6s ease;
}

.figure:not(.is-chakra-active) .aura--leaves,
.figure:not(.is-chakra-active) .chakra,
.figure:not(.is-chakra-active) .figure__outline {
  opacity: 0;
  visibility: hidden;
}

.figure:not(.is-chakra-active) .aura--leaves,
.figure:not(.is-chakra-active) .aura--leaves *,
.figure:not(.is-chakra-active) .chakra,
.figure:not(.is-chakra-active) .figure__outline {
  animation-play-state: paused;
}

.figure.is-chakra-active .aura--leaves,
.figure.is-chakra-active .chakra,
.figure.is-chakra-active .figure__outline {
  opacity: 1;
  visibility: visible;
}

.figure.is-chakra-active .aura--leaves,
.figure.is-chakra-active .aura--leaves *,
.figure.is-chakra-active .chakra,
.figure.is-chakra-active .figure__outline {
  animation-play-state: running;
}

.aura {
  position: absolute;
  inset: -14%;
  pointer-events: none;
  z-index: 1;
  opacity: 0;
}

/* shared breathing helper */
@keyframes breath-pulse {
  0%,
  100% {
    opacity: 0.65;
    transform: scale(0.98);
  }
  40% {
    opacity: 1;
    transform: scale(1.02);
  }
  60% {
    opacity: 0.8;
    transform: scale(1);
  }
}

@keyframes outline-breath {
  0%,
  100% {
    opacity: 0.62;
    transform: scale(0.995);
  }
  45% {
    opacity: 0.86;
    transform: scale(1.02);
  }
  70% {
    opacity: 0.75;
    transform: scale(1.005);
  }
}

@keyframes chakra-breath {
  0%,
  100% {
    transform: translate(-50%, -50%) scale(0.88);
    box-shadow: 0 0 0.8rem hsla(var(--chakra-third-eye) / 0.62), 0 0 2.2rem hsla(var(--chakra-third-eye) / 0.18);
  }
  42% {
    transform: translate(-50%, -50%) scale(1.06);
    box-shadow: 0 0 1.6rem hsla(var(--chakra-third-eye) / 0.75), 0 0 3.4rem hsla(var(--chakra-third-eye) / 0.32);
  }
  68% {
    transform: translate(-50%, -50%) scale(0.98);
    box-shadow: 0 0 1.1rem hsla(var(--chakra-third-eye) / 0.7), 0 0 2.6rem hsla(var(--chakra-third-eye) / 0.26);
  }
/* Center the logo on the page and size it up */
:root{
  --genetic-logo-url: url("/path/to/genetic_molecule_ring_v2.png"); /* ‚Üê update this */
  --genetic-logo-size: 520px; /* make bigger/smaller here */
}

/* LEAVES ------------------------------------------------ */
.aura--leaves {
  animation: leaf-cycle var(--cycle-duration) linear infinite;
}

.aura--leaves::after {
  content: "";
  position: absolute;
  inset: -18%;
  background:
    radial-gradient(circle at 30% 70%, hsla(var(--leaf-color) / 0.38) 0%, transparent 55%),
    radial-gradient(circle at 70% 60%, hsla(var(--leaf-color) / 0.28) 0%, transparent 60%),
    radial-gradient(circle at 50% 40%, hsla(var(--leaf-color) / 0.22) 0%, transparent 65%);
  filter: blur(10px);
  opacity: 0;
  mix-blend-mode: screen;
  animation: leaf-dust var(--cycle-duration) linear infinite;
}

@keyframes leaf-cycle {
  0%,
  24% {
    opacity: 0;
  }
  26% {
    opacity: 0.45;
  }
  29%,
  49% {
    opacity: 1;
  }
  51% {
    opacity: 0.4;
  }
  54%,
  100% {
    opacity: 0;
  }
}

.leaf {
  position: absolute;
  top: 50%;
  left: 50%;
  width: clamp(8px, 2vmin, 18px);
  height: clamp(16px, 3.4vmin, 26px);
  background: radial-gradient(circle at 30% 30%, hsl(var(--leaf-color) / 0.92) 0%, hsl(var(--leaf-color) / 0.6) 55%, hsl(var(--leaf-color) / 0.08) 100%);
  border-radius: 48% 52% 46% 54%;
  transform-origin: center calc(120% + var(--index) * 0.4px);
  opacity: 0;
  filter: blur(0.2px) saturate(1.2);
  animation: leaf-spiral 5s ease-in-out infinite;
  animation-delay: calc(var(--index) * 0.12s);
}

.leaf::after {
  content: "";
  position: absolute;
  inset: 18% 42% 18% 42%;
  border-radius: 50%;
  background: hsl(var(--leaf-color) / 0.32);
}

@keyframes leaf-spiral {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) rotate(0deg) translateX(3.4vmin) rotate(0deg) scale(0.7);
  }
  18% {
    opacity: 1;
  }
  52% {
    transform: translate(-50%, -50%) rotate(300deg) translateX(2.2vmin) rotate(-300deg) scale(0.92);
    opacity: 0.88;
  }
  70% {
    transform: translate(-50%, -50%) rotate(420deg) translateX(1.2vmin) rotate(-420deg) scale(0.7);
    opacity: 0.35;
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) rotate(540deg) translateX(3.4vmin) rotate(-540deg) scale(0.7);
  }
}

@keyframes leaf-dust {
  0%,
  24% {
    opacity: 0;
    transform: translateY(16%) scale(0.9);
  }
  30% {
    opacity: 0.55;
    transform: translateY(0%) scale(1);
  }
  48% {
    opacity: 0.12;
    transform: translateY(-20%) scale(1.14);
  }
  54%,
  100% {
    opacity: 0;
    transform: translateY(16%) scale(0.9);
  }
}

@media (prefers-reduced-motion: reduce) {
  .aura,
  .figure__outline,
  .leaf,
  .chakra {
    animation: none !important;
    opacity: 0 !important;
  }

  .figure,
  .figure__image {
    transition: none !important;
  }
}
